<div class="comment" ng-data-index="{{::$index + page.id * 50}}" style="border-left: {{comment.level * 10}}px solid #dedede;"
     ng-class="{'pending':comment.$pending, 'minimized':comment.$minimized, 'imploded':comment.$imploded}">
    <a id="{{::comment.id}}"></a>

    <div class="row">

        <!-- content -->
        <div class="col-lg-12 col-xs-12">

            <!--<comment-likes></comment-likes>-->

            <div>
                <a href="javascript:void(0)" class="name" title="toggle"
                   ng-click="comment.$minimized = false; comment.$imploded = !comment.$imploded;">{{::comment.displayName}}</a>
                <!--<a class="show-full-comment">Show</a>-->
                {{::comment.influence}}
                <span class="points">
                    {{::comment.likes-comment.dislikes }} points
                </span>
                <span class="date">
                    {{::comment.createdDate | fromNow }}
                </span>
                <span class="label label-warning label-pending">PENDING APPROVAL</span>

                <div class="dropdown pull-right" ng-if="isadmin">
                    <a href="javascript:void(0)" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu" role="menu">
                        <li role="presentation"><a href="javascript:void(0)" tabindex="-1" role="menuitem">Mark as
                            Spam</a></li>
                        <li role="presentation"><a href="javascript:void(0)" tabindex="-1" role="menuitem">Delete</a>
                        </li>
                        <li role="presentation"><a href="javascript:void(0)" tabindex="-1" role="menuitem">Blacklist
                            User</a></li>
                    </ul>
                </div>

                <div class="text">{{::comment.text}}</div>
            </div>

            <comment-menu></comment-menu>

        </div>

    </div>

    <comment-reply ng-render-if="comment.$reply"></comment-reply>
    <comment-report ng-render-if="comment.$report"></comment-report>

</div>

<!--<comment-replies></comment-replies>-->
{{comment.replies.verbose.length}} replies
<!-- todo see http://sporto.github.io/blog/2013/06/24/nested-recursive-directives-in-angular/ -->
<!--<div ng-repeat="reply in comment.replies.verbose">-->
<!--{{reply.id}}-->
<!--<comment/>-->
<!--</div>-->

