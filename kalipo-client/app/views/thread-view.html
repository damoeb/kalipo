<h2>{{thread.title}}</h2>

<div class="row box box-padding">

    <span ng-show="thread.tags!=null && thread.tags.length>0">
        <a href="#/tags/{{tag.name}}" ng-repeat="tag in thread.tags" class="badge" style="margin-right: 5px">
            {{tag.name}}
        </a>
    </span>

    <h4>
        <span ng-show="thread.commentCount == 1">{{thread.commentCount}} comment</span>
        <span ng-show="thread.commentCount != 1">{{thread.commentCount}} comments</span>

        by

        <span ng-show="thread.authorCount == 1">{{thread.authorCount}} authors</span>
        <span ng-show="thread.authorCount != 1">{{thread.authorCount}} authors</span>

        {{thread.createdDate | fromNow}}
    </h4>

    <ul class="nav nav-pills" style="border-top: 1px solid #e2e2e2; padding-top: 5px">
        <li role="presentation"><a href="javascript:void(0)" ng-click="toggleShareComponent()">Share</a></li>
        <li role="presentation" class="disabled"><a href="#">Stats</a></li>
    </ul>
</div>

<div class="row box box-padding" ng-show="share != null">
    <ul class="nav nav-tabs" role="tablist">
        <li role="presentation" class="active"><a href="#">Social</a></li>
        <li role="presentation"><a href="#">Embed</a></li>
        <li role="presentation"><a href="#">E-Mail</a></li>
    </ul>

    <div ng-show="share == 'social'">
        <div ng-include="'share_social.template'"></div>
    </div>
    <div ng-show="share == 'embed'">
        <div ng-include="'share_embed.template'"></div>
    </div>
    <div ng-show="share == 'email'">
        <div ng-include="'share_email.template'"></div>
    </div>
</div>

<div class="row box">

    <div style="margin-top: 15px">

        <div ng-show="!doComment" ng-click="doComment = true">
            <div ng-include="'pre_create_comment_renderer.html'">
            </div>
        </div>
        <div ng-show="doComment">
            <div ng-include="'create_comment_renderer.html'">
            </div>
        </div>

        <dl style="margin:0;">
            <dd ng-repeat="comment in comments | orderBy:createdDate" ng-include="'comment_renderer.html'">

            </dd>
        </dl>

        <div ng-show="comments.length > 10" style="margin-top: 10px">
            <div ng-include="'create_comment_renderer.html'"></div>
        </div>

    </div>
</div>

<script type="text/ng-template" id="likes_renderer.html">
    <div ng-show="comment.dislikes > 0 || comment.likes > 0" style="line-height: 5px">

        <div style="float: left; width: 50%" title="{{comment.dislikes}} dislikes">
            <div ng-show="comment.dislikes > 0" class="pull-right" style="color: red; display: inline-block;">
                <div style="height:5px; background-color: red; width: {{3 * comment.dislikes}}px; max-width: 120px; display: inline-block; margin: 2px 0 2px 0"></div>
            </div>
        </div>
        <div title="{{comment.likes}} likes">
            <div ng-show="comment.likes > 0" style="color: green; display: inline-block; line-height: 5px">
                <div style="height:5px; background-color: green; width: {{3 * comment.likes}}px; max-width: 120px; display: inline-block; margin: 2px 0 2px 0"></div>
                <!--{{comment.likes}}-->
            </div>
        </div>
    </div>
</script>

<script type="text/ng-template" id="create_comment_renderer.html">

    <div style="padding: 10px; margin-bottom: 10px;">
        <h4>Your comment</h4>

        <form name="form" role="form" novalidate ng-submit="draft.parentId = null; create()">
            <div><input class="form-control" ng-model="draft.title" ng-minlength=1 ng-maxlength=148
                        placeholder="Title"></div>
            <div><textarea class="form-control" placeholder="Type your comment here..." ng-model="draft.text"
                           ng-minlength=1 ng-maxlength=2048 required></textarea></div>

            <div>
                <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary">
                    Post
                </button>
            </div>

        </form>

    </div>

</script>

<script type="text/ng-template" id="pre_create_comment_renderer.html">

    <div style="padding: 10px; margin-bottom: 10px;">

        <textarea class="form-control" placeholder="Type your comment here..." ng-model="draft.text"
                  ng-minlength=1 ng-maxlength=2048 required rows="1"></textarea>

    </div>

</script>

<script type="text/ng-template" id="replyto_comment_renderer.html">

    <div style="padding: 10px;">

        <form name="form" role="form" novalidate ng-submit="draft.parentId = comment.id; create()">
            <h4>Reply</h4>
            <input class="form-control" ng-model="draft.title" ng-minlength=1 ng-maxlength=148
                   placeholder="Title..."/>

            <div><textarea class="form-control" placeholder="Type your comment here..." ng-model="draft.text"
                           ng-minlength=1 ng-maxlength=2048 required></textarea></div>

            <div class="btn-group">
                <button type="button" class="btn btn-default" ng-click="comment.reply = false" title="Cancel">
                    Cancel
                </button>
                <button type="submit" ng-disabled="form.$invalid" class="btn btn-primary">
                    Post
                </button>
            </div>

        </form>

    </div>

</script>

<script type="text/ng-template" id="comment_renderer.html">

    <div>

        <div ng-switch on="comment.maximized">

            <!-- Maximized view -->
            <div ng-switch-default>

                <div ng-include="'likes_renderer.html'"></div>

                <div class="post">
                    <a id="{{comment.id}}"></a>

                    <div>
                        <div class="menu" style="display: inline">
                            <a href="javascript:void(0)"
                               ng-click="comment.maximized = !comment.maximized" title="Click to minimize">
                                <span class="glyphicon glyphicon-resize-small"></span></a>
                        </div>

                        <strong>
                            {{comment.title}}
                        </strong>

                        <span class="pull-right" style="color: grey" title="{{comment.createdDate | dateString }}">{{comment.createdDate | fromNow }}</span>

                    </div>

                    <div>
                        <span style="white-space: pre-line">{{comment.text}}</span> --
                        <span style="color: grey">by <a
                                href="#/users/{{comment.authorId}}">{{comment.authorId}}</a></span>
                    </div>

                    <div class="menu" style="border-top: 1px solid #efefef;">
                        <a href="javascript:void(0)" ng-click="toggleReplyForm(comment)">
                            Reply
                        </a>
                        <a class="voteUp" href="javascript:void(0)" ng-click="like(comment)">
                            <span class="glyphicon glyphicon-thumbs-up"></span>
                        </a>
                        <a class="voteDown" href="javascript:void(0)" ng-click="dislike(comment)">
                            <span class="glyphicon glyphicon-thumbs-down"></span>
                        </a>
                        <a ng-show="comment.parentId != null" href="javascript:void(0)"
                           ng-click="scrollTo(comment.parentId)">
                            Parent
                        </a>
                        <a href="#/thread/{{comment.threadId}}/{{comment.id}}" title="Permalink">
                            <span class="glyphicon glyphicon-link"></span>
                        </a>

                        <div class="flag pull-right">
                            <a href="javascript:void(0)"
                               ng-click="toggleReportForm(comment)"
                               title="Report this comment">
                                <span class="glyphicon glyphicon-flag"></span>
                            </a>
                        </div>
                    </div>
                </div>

                <div class="input-group"
                     style="margin-bottom: 20px; padding: 10px; background-color: #cbdaef; border-bottom-left-radius: 4px; border-bottom-right-radius: 4px"
                     ng-show="comment.report">
                    <input type="text" ng-maxlength=148 ng-minlength=1 ng-model="reportModel.reason"
                           placeholder="Tell us, what is wrong with this comment"
                           class="form-control ng-valid ng-valid-maxlength ng-valid-minlength">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button" ng-click="comment.report = false" title="Cancel"><span
                            class="glyphicon glyphicon-remove"></span></button>
                    <button class="btn btn-primary" type="button" ng-click="report(comment)">Send Report
                    </button>
                </span>
                </div>
                <!-- /input-group -->

                <div style="border-left: 10px solid #dedede; background-color: #fcf8e5;">
                    <div ng-show="comment.reply">
                        <div ng-include="'replyto_comment_renderer.html'"></div>
                    </div>

                    <!-- sub comments -->
                    <div ng-hide="comment.subcomments.length == 0">
                        <dl style="margin:0;">
                            <dd ng-repeat="comment in comment.subcomments | orderBy:createdDate"
                                ng-include="'comment_renderer.html'"></dd>
                        </dl>
                    </div>

                </div>

            </div>

            <!-- Minimized view -->

            <div ng-switch-when="false">

                <div class="minimized post" style="cursor: pointer;" title="Click to maximize">

                    <!--<strong><a href="javascript:void(0)" ng-click="scrollTo(comment.parentId)"-->
                    <!--ng-show="{{comment.parentId != null}}">Re:</a></strong>-->

                    <div style="overflow: hidden; max-height:3em; min-height:1.8em;"
                         ng-click="comment.maximized = !comment.maximized">

                        <div style="display: inline">
                            <a href="javascript:void(0)">
                                <span class="glyphicon glyphicon-resize-full"></span></a>

                            <!--<span ng-show="comment.parentId == null" class="glyphicon glyphicon-leaf"-->
                            <!--style="color: #666"></span>-->

                            <strong>{{comment.title}}</strong>
                            <span style="color: grey">({{comment.subcomments.length}} children)</span>
                        </div>

                        <div style="white-space: nowrap; cursor: pointer; color: grey; display: inline">
                            <span>{{comment.text}}</span>
                        </div>

                    </div>

                </div>

            </div>

        </div>

    </div>

</script>

<script type="text/ng-template" id="share_embed.template">
    <div>
        <input title="Code einbetten" class="form-control">
    </div>
</script>

<script type="text/ng-template" id="share_email.template">
    <div>
        <input title="Code einbetten" class="form-control">
    </div>
</script>

<script type="text/ng-template" id="share_social.template">
    <div>
        <div>
            <ul class="share-group ytg-box">
                <li>
                    <button class="yt-uix-tooltip share-service-button share-facebook-icon" data-service-name="FACEBOOK" onclick="yt.window.popup(&quot;http:\/\/www.facebook.com\/dialog\/feed?app_id=87741124305\u0026link=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026display=popup\u0026name=oOoOO%20-%20Seaww\u0026caption=\u0026description=Seaww%20was%20featured%20on%20a%20split%207%22%20with%20White%20Ring%20on%20Emotion%20%28sold%20out%29.%20Video%20by%20Daniel%20Lopatin.%0A%0Ahttp%3A\/\/www.eeemotion.se\/%0Ahttp%3A\/\/www.facebook.com\/eeemotion%0Ahttps%3A\/\/twitter.com\/eeemotion%0A%0ABuy%20on%20iTunes%3A%20http%3A\/\/itunes.apple.com\/se\/album\/roses-seaww-emotion-single\/id362308200%0AListen%20on%20Spotify%3A%20http%3A\/\/open.spotify.com\/album\/55h8qAZzI5Bxjsn6VJi4in\u0026picture=http%3A\/\/i.ytimg.com\/vi\/J0zYmPKAP18\/maxresdefault.jpg\u0026source=https%3A\/\/www.youtube.com\/v\/J0zYmPKAP18%3Fversion%3D3%26autohide%3D1%26showinfo%3D1%26autoplay%3D1%26autohide%3D1%26feature%3Dshare\u0026ref=share\u0026actions={\&quot;name\&quot;:\&quot;Auf YouTube abonnieren\&quot;, \&quot;link\&quot;:\&quot;http:\/\/www.youtube.com\/channel\/UC1SdPYp1tewxZdbaWpBgjLQ?sub_confirmation=1\&quot;}\u0026redirect_uri=https:\/\/www.youtube.com\/facebook_redirect&quot;, {'height': 306,'width': 650,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=FACEBOOK\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=10\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-facebook yt-sprite" title="Teilen auf Facebook"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-twitter-icon" data-service-name="TWITTER" onclick="yt.window.popup(&quot;http:\/\/twitter.com\/intent\/tweet?url=http%3A\/\/youtu.be\/J0zYmPKAP18\u0026text=oOoOO%20-%20Seaww:\u0026via=YouTube\u0026related=YouTube,YouTubeTrends,YTCreators&quot;, {'height': 420,'width': 550,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=TWITTER\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=31\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-twitter yt-sprite" title="Teilen auf Twitter"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-googleplus-icon" data-service-name="GOOGLEPLUS" onclick="yt.window.popup(&quot;https:\/\/plus.google.com\/share?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026source=yt\u0026hl=de\u0026soc-platform=1\u0026soc-app=130&quot;, {'height': 620,'width': 620,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=GOOGLEPLUS\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=43\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-googleplus yt-sprite" title="Teilen auf Google+"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-blogger-icon" data-service-name="BLOGGER" onclick="yt.window.popup(&quot;http:\/\/www.blogger.com\/blog-this.g?n=oOoOO%20-%20Seaww\u0026source=youtube\u0026b=%3Ciframe%20width%3D%22480%22%20height%3D%22270%22%20src%3D%22https%3A\/\/www.youtube.com\/embed\/J0zYmPKAP18%22%20frameborder%3D%220%22%20allowfullscreen%3E%3C\/iframe%3E\u0026eurl=http%3A\/\/i.ytimg.com\/vi\/J0zYmPKAP18\/maxresdefault.jpg&quot;, {'height': 468,'width': 768,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=BLOGGER\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=34\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-blogger yt-sprite" title="Teilen auf Blogger"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-reddit-icon" data-service-name="REDDIT" onclick="yt.window.popup(&quot;http:\/\/reddit.com\/submit?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026title=oOoOO%20-%20Seaww&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=REDDIT\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=4\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-reddit yt-sprite" title="Teilen auf reddit"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-tumblr-icon" data-service-name="TUMBLR" onclick="yt.window.popup(&quot;http:\/\/www.tumblr.com\/share\/video?embed=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026caption=oOoOO%20-%20Seaww&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=TUMBLR\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=40\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-tumblr yt-sprite" title="Teilen auf Tumblr"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-vkontakte-icon" data-service-name="VKONTAKTE" onclick="yt.window.popup(&quot;http:\/\/vkontakte.ru\/share.php?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=VKONTAKTE\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=36\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-vkontakte yt-sprite" title="Teilen auf ВКонтакте"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-skyblog-icon" data-service-name="SKYBLOG" onclick="yt.window.popup(&quot;http:\/\/skyrock.com\/m\/blog\/share-widget.php?idp=10\u0026idm=J0zYmPKAP18\u0026title=oOoOO%20-%20Seaww&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=SKYBLOG\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=22\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-skyblog yt-sprite" title="Teilen auf Skyrock"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-odnoklassniki-icon" data-service-name="ODNOKLASSNIKI" onclick="yt.window.popup(&quot;http:\/\/www.odnoklassniki.ru\/dk?st.cmd=addShare\u0026st.noresize=on\u0026st._surl=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=ODNOKLASSNIKI\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=39\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-odnoklassniki yt-sprite" title="Teilen auf Одноклассники"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-linkedin-icon" data-service-name="LINKEDIN" onclick="yt.window.popup(&quot;http:\/\/www.linkedin.com\/shareArticle?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026title=oOoOO%20-%20Seaww\u0026summary=Seaww%20was%20featured%20on%20a%20split%207%22%20with%20White%20Ring%20on%20Emotion%20%28sold%20out%29.%20Video%20by%20Daniel%20Lopatin.%0A%0Ahttp%3A\/\/www.eeemotion.se\/%0Ahttp%3A\/\/www.facebook.com\/eeemotion%0Ahttps%3A\/\/twitter.com\/eeemotion%0A%0ABuy%20on%20iTunes%3A%20http%3A\/\/itunes.apple.com\/se\/album\/roses-seaww-emotion-single\/id362308200%0AListen%20on%20Spotify%3A%20http%3A\/\/open.spotify.com\/album\/55h8qAZzI5Bxjsn6VJi4in\u0026source=Youtube&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=LINKEDIN\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=42\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-linkedin yt-sprite" title="Teilen auf LinkedIn"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-livejournal-icon" data-service-name="LIVEJOURNAL" onclick="yt.window.popup(&quot;http:\/\/www.livejournal.com\/update.bml?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026subject=oOoOO%20-%20Seaww&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=LIVEJOURNAL\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=38\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-livejournal yt-sprite" title="Teilen auf LiveJournal"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-pinterest-icon" data-service-name="PINTEREST" onclick="yt.window.popup(&quot;http:\/\/pinterest.com\/pin\/create\/button\/?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026description=oOoOO%20-%20Seaww\u0026is_video=true\u0026media=http%3A\/\/i.ytimg.com\/vi\/J0zYmPKAP18\/maxresdefault.jpg&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=PINTEREST\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=45\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-pinterest yt-sprite" title="Teilen auf Pinterest"></span>
                    </button>
                </li>

                <li>
                    <button class="yt-uix-tooltip share-service-button share-digg-icon" data-service-name="DIGG" onclick="yt.window.popup(&quot;http:\/\/digg.com\/submit?url=http%3A\/\/www.youtube.com\/watch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare&quot;, {'height': 650,'width': 1024,'scrollbars': true});yt.net.ping.send(&quot;\/sharing_services?name=DIGG\u0026v=J0zYmPKAP18\u0026relative_url=%2Fwatch%3Fv%3DJ0zYmPKAP18%26feature%3Dshare\u0026id=1\u0026feature=share&quot;);return false;">
                        <span class="share-service-icon share-service-icon-digg yt-sprite" title="Teilen auf Digg"></span>
                    </button>
                </li>

            </ul>

        </div>
        <div>
            <span>
                <input title="Link teilen" value="http://youtu.be/J0zYmPKAP18" name="share_url" class="form-control" type="url">
            </span>
        </div>

    </div>
</script>

