package org.kalipo.domain;

import org.apache.commons.lang.StringUtils;

import java.io.File;
import java.io.FileNotFoundException;
import java.util.Arrays;
import java.util.HashMap;
import java.util.Map;
import java.util.Scanner;

/**
 * Created by markus on 12.12.14.
 */
public class Test {
    public static void main(String[] args) throws FileNotFoundException {

        String[] fps = {
                "00001",
                "0000100002",
                "00003",
                "0000300004",
                "000030000400005",
                "00003000040000500006",
                "0000300004000050000600007",
                "0000300008",
                "000030000800009",
                "00003000080000900010",
                "0000300008000090001000011",
                "0000300008000090001000012",
                "000030000800009000100001200013",
                "000030000800009000100001200014",
                "00003000080000900010000120001400015",
                "0000300008000090001000012000140001500016",
                "00017",
                "0001700018",
                "0001700019",
                "000170001900020",
                "0001700021",
                "000170002100022",
                "00017000210002200023",
                "00024",
                "0002400025",
                "00026",
                "00027",
                "0002700028",
                "000270002800029",
                "00030",
                "0003000031",
                "00032",
                "00033",
                "00034",
                "00035",
                "0003500036",
                "0003500037",
                "0003500038",
                "00039",
                "00040",
                "0004000041",
                "0004000042",
                "0004000043",
                "00044",
                "0004400045",
                "00046",
                "00047",
                "00048",
                "00049",
                "0004900050",
                "0004900051",
                "00052",
                "0005200053",
                "000520005300054",
                "00055",
                "0005500056",
                "000550005600057",
                "00058",
                "0005800059",
                "0005800060",
                "0005800061",
                "00062",
                "00063",
                "00064",
                "00065",
                "0006500066",
                "00067",
                "00068",
                "00069",
                "00070",
                "00071",
                "0007100072",
                "00073",
                "00074",
                "00075",
                "00076",
                "00077",
                "00078",
                "0007800079",
                "0007800080",
                "000780008000081",
                "00082",
                "0008200083",
                "0008200084",
                "00085",
                "00086",
                "00087",
                "0008700088",
                "000870008800089",
                "00087000880008900090",
                "00091",
                "0009100092",
                "00093",
                "00094",
                "00095",
                "00096",
                "0009600097",
                "0009600098",
                "00099",
                "00100",
                "00101",
                "00102",
                "00103",
                "0010300104",
                "0010300105",
                "0010300106",
                "001030010600107",
                "00103001060010700108",
                "00109",
                "00110",
                "00111",
                "00112",
                "00113",
                "00114",
                "00115",
                "0011500116",
                "0011500117",
                "0011500118",
                "0011500119",
                "0011500120",
                "00121",
                "00122",
                "00123",
                "00124",
                "00125",
                "00126",
                "00127",
                "00128",
                "00129",
                "00130",
                "00131",
                "00132",
                "00133",
                "0013300134",
                "00135",
                "00136",
                "0013600137",
                "001360013700138",
                "00139",
                "00140",
                "00141",
                "0014100142",
                "00143",
                "00144",
                "00145",
                "0014500146",
                "00147",
                "00148",
                "00149",
                "00150",
                "0015000151",
                "001500015100152",
                "00150001510015200153",
                "00154",
                "00155",
                "0015500156",
                "00157",
                "0015700158",
                "00159",
                "00160",
                "00161",
                "00162",
                "00163",
                "00164",
                "00165",
                "00166",
                "0016600167",
                "0016600168",
                "0016600169",
                "0016600170",
                "0016600171",
                "001660017100172",
                "001660017100173",
                "00166001710017300174",
                "00166001710017300175",
                "0016600171001730017500176",
                "0016600171001730017500177",
                "0016600178",
                "00179",
                "00180",
                "00181",
                "00182",
                "00183",
                "0018300184",
                "001830018400185",
                "001830018400186",
                "0018300187",
                "001830018700188",
                "00183001870018800189",
                "0018300187001880018900190",
                "001830018700188001890019000191",
                "00183001870018800189001900019100192",
                "00193",
                "0019300194",
                "0019300195",
                "001930019500196",
                "00193001950019600197",
                "00193001950019600198",
                "00193001950019600199",
                "0019300200",
                "001930020000201",
                "001930020000202",
                "00203",
                "0020300204",
                "0020300205",
                "0020300206",
                "00207",
                "00208",
                "00209",
                "0020900210",
                "0020900211",
                "002090021100212",
                "0020900213",
                "002090021300214",
                "00215",
                "00216",
                "00217",
                "0021700218",
                "0021700219",
                "002170021900220",
                "0021700221",
                "002170022100222",
                "00217002210022200223",
                "00217002210022200224",
                "0021700225",
                "0021700226",
                "0021700227",
                "0021700228",
                "00229",
                "0022900230",
                "0022900231",
                "00232",
                "00233",
                "00234",
                "0023400235",
                "00236",
                "0023600237",
                "00238",
                "00239",
                "00240",
                "0024000241",
                "00242",
                "0024200243",
                "0024200244",
                "0024200245",
                "0024200246",
                "0024200247",
                "002420024700248",
                "00242002470024800249",
                "0024200250",
                "00251",
                "00252",
                "0025200253",
                "00254",
                "00255",
                "0025500256",
                "00257",
                "0025700258",
                "0025700259",
                "002570025900260",
                "00257002590026000261",
                "00257002590026000262",
                "00263",
                "0026300264",
                "002630026400265",
                "00263002640026500266",
                "0026300264002650026600267",
                "002630026400268",
                "00263002640026800269",
                "002630026400270",
                "00263002640027000271",
                "0026300264002700027100272",
                "002630026400273",
                "00263002640027300274",
                "0026300264002730027400275",
                "0026300264002730027400276",
                "00277",
                "0027700278",
                "00279",
                "0027900280",
                "0027900281",
                "00282",
                "00283",
                "0028300284",
                "00285",
                "0028500286",
                "0028500287",
                "002850028700288",
                "00289",
                "0028900290",
                "00291",
                "00292",
                "0029200293",
                "002920029300294",
                "00292002930029400295",
                "0029200296",
                "00297",
                "00298",
                "0029800299",
                "00300",
                "0030000301",
                "003000030100302",
                "00300003010030200303",
                "0030000301003020030300304",
                "00305",
                "0030500306",
                "00307",
                "00308",
                "00309",
                "0030900310",
                "0030900311",
                "0030900312",
                "00313",
                "0031300314",
                "003130031400315",
                "0031300316",
                "00317",
                "00318",
                "00319",
                "0031900320",
                "0031900321",
                "0031900322",
                "003190032200323",
                "00324",
                "0032400325",
                "0032400326",
                "0032400327",
                "003240032700328",
                "00324003270032800329",
                "0032400327003280032900330",
                "003240032700328003290033000331",
                "00332",
                "0033200333",
                "0033200334",
                "003320033400335",
                "00332003340033500336",
                "0033200334003350033600337",
                "00338",
                "00339",
                "00340",
                "00341",
                "0034100342",
                "0034100343",
                "003410034300344",
                "00345",
                "0034500346",
                "0034500347",
                "00348",
                "0034800349",
                "003480034900350",
                "00348003490035000351",
                "003480034900352",
                "00348003490035200353",
                "0034800349003520035300354",
                "003480034900352003530035400355",
                "00348003490035200353003540035500356",
                "003480034900352003530035400357",
                "00348003490035200353003540035700358",
                "0034800349003520035300354003570035800359",
                "003480034900352003530035400357003580035900360",
                "00348003490035200353003540035700358003590036000361",
                "0034800362",
                "003480036200363",
                "003480036200364",
                "00348003620036400365",
                "0034800362003640036500366",
                "0034800362003640036500367",
                "0034800368",
                "00369",
                "00370",
                "0037000371",
                "00372",
                "00373",
                "0037300374",
                "00375",
                "00376",
                "0037600377",
                "0037600378",
                "0037600379",
                "0037600380",
                "003760038000381",
                "00382",
                "0038200383",
                "00384",
                "0038400385",
                "003840038500386",
                "00387",
                "0038700388",
                "00389",
                "0038900390",
                "0038900391",
                "003890039100392",
                "00389003910039200393",
                "0038900394",
                "003890039400395",
                "003890039400396",
                "00389003940039600397",
                "00389003940039600398",
                "0038900399",
                "003890039900400",
                "00389003990040000401",
                "0038900399004000040100402",
                "003890039900400004010040200403",
                "00389003990040000401004020040300404",
                "0038900399004000040100402004030040400405",
                "0038900406",
                "0038900407",
                "003890040700408",
                "0038900409",
                "003890040900410",
                "00411",
                "0041100412",
                "004110041200413",
                "0041100414",
                "0041100415",
                "004110041500416",
                "00411004150041600417",
                "00418",
                "00419",
                "0041900420",
                "004190042000421",
                "004190042000422",
                "004190042000423",
                "00419004200042300424",
                "0041900420004230042400425",
                "0041900420004230042400426",
                "004190042000423004240042600427",
                "00428",
                "0042800429",
                "0042800430",
                "004280043000431",
                "00432",
                "0043200433",
                "0043200434",
                "004320043400435",
                "004320043400436",
                "00437",
                "00438",
                "00439",
                "0043900440",
                "004390044000441",
                "004390044000442",
                "00439004400044200443",
                "0043900444",
                "004390044400445",
                "00439004440044500446",
                "0043900444004450044600447",
                "00448",
                "0044800449",
                "00450",
                "0045000451",
                "004500045100452",
                "00453",
                "00454",
                "0045400455",
                "00456",
                "0045600457",
                "004560045700458",
                "00459",
                "00460",
                "00461",
                "00462",
                "0046200463",
                "0046200464",
                "00465",
                "0046500466",
                "004650046600467",
                "00465004660046700468",
                "0046500466004670046800469",
                "004650046600467004680046900470",
                "0046500471",
                "00472",
                "0047200473",
                "00474",
                "0047400475",
                "0047400476",
                "004740047600477",
                "00478",
                "0047800479",
                "004780047900480",
                "00478004790048000481",
                "00482",
                "0048200483",
                "00484",
                "0048400485",
                "004840048500486",
                "00484004850048600487",
                "0048400485004860048700488",
                "0048400489",
                "004840048900490",
                "00484004890049000491",
                "0048400489004900049100492",
                "0048400489004900049100493",
                "004840048900490004910049300494",
                "004840048900490004910049300495",
                "00484004890049000491004930049500496",
                "0048400489004900049100493004950049600497",
                "00498",
                "0049800499",
                "0049800500",
                "004980050000501",
                "0049800502",
                "004980050200503",
                "00498005020050300504",
                "00505",
                "0050500506",
        };

        Map<String,String> org2newFps = new HashMap<>(500);

        for (String org : fps) {
            String[] levels = org.split("(?<=\\G.{5})");
            String[] fixed = fixLevels(levels);
            System.out.println("\"fingerprint\" : \""+ org + "-> " + join(fixed)+"\",");
            org2newFps.put(org, join(fixed));
        }

        Scanner in = new Scanner(new File("/home/markus/Private/kalipo/kalipo-service/src/main/resources/config/mongeez/comments.xml"));
        while(in.hasNextLine()) {
            String line = in.nextLine();

            for(String orgFp : org2newFps.keySet()) {
//                if(StringUtils.contains(line, orgFp)) {
                line = StringUtils.replace(line, "\""+orgFp+"\"", "\""+org2newFps.get(orgFp)+"\"");
//                }
            }

            System.out.println(line);
        }
    }

    private static String join(String[] fixed) {
        return StringUtils.join(fixed, "");
    }

    private static String[] fixLevels(String[] levels) {

        for(int i=0; i<levels.length; i++) {
            levels[i] = fixLevel(levels[i]);
        }

        return levels;
    }

    private static String fixLevel(String level) {
        final int max = 99999;
        return String.format("%05d", max - Integer.parseInt(level));
    }
}
